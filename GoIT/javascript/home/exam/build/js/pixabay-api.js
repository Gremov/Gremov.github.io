function createRequest(){if(window.XMLHttpRequest)req=new XMLHttpRequest;else if(window.ActiveXObject){try{req=new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}try{req=new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}return req}function getData(url,params){if(req=createRequest())if(req.open("GET",url,!1),req.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),req.send(params),200==req.status)var rData=req.responseText,eData=!/[^,:{}\[\]0-9.\-+Eaeflnr-u \n\r\t]/.test(rData.replace(/"(\\.|[^"\\])*"/g,""))&&eval("("+rData+")"),eArray=new Object(eData);else alert("Не удалось получить данные:\n"+req.statusText);else alert("Браузер не поддерживает AJAX");return eArray}function fillRandomImages(e){for(var a=0;takeImages>=a;a++){var t=_.random(0,perPageCount-1),r=e.hits[t],i="",n="item-img",s=r.tags;2!=a&&5!=a||(i="grid-item--width2",n="item-img-grid-item--width2");var l={url:r.webformatURL,className:i,imageClassName:n,imageCaption:s};vintageBicycleGallery.push(l)}}function fillRandomSlides(e){for(var a=0;takeSliders>=a;a++){var t=_.random(0,perPageSlidesCount-1),r=e.hits[t],i=a+1,n=r.webformatURL,s="";0==a&&(s="visible");var l={imageNumber:i,imageUrl:n,imageVisibleClass:s};bikeSliders.push(l)}}function getUrlForImages(e){return"https://pixabay.com/api/?key="+API_KEY+"&q="+encodeURIComponent(e)+"&per_page="+perPageCount}function getUrlForSlides(e){return"https://pixabay.com/api/?key="+API_KEY+"&q="+encodeURIComponent(e)+"&per_page="+perPageSlidesCount}function getDefaultSearchUrl(){return getUrlForImages("vintage bike")}var takeImages=7,takeSliders=4,perPageCount=30,perPageSlidesCount=40,API_KEY="2217298-38addbee8ad85b3796d49a68a",vintageBicycleGallery=[],bikeSliders=[],req,pixabayImages=getData(getDefaultSearchUrl(),"");fillRandomImages(pixabayImages);var pixabaySlides=getData(getUrlForSlides("bike"),"");fillRandomSlides(pixabaySlides);